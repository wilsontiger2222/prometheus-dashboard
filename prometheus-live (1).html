<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PROMETHEUS ‚Äî Live Navigator</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Share+Tech+Mono&family=Rajdhani:wght@300;400;500;600;700&display=swap');

  :root {
    --core-orange: #ff6b1a;
    --core-amber: #ffa726;
    --glow-orange: rgba(255, 107, 26, 0.6);
    --chat-blue: #00b8ff;
    --files-amber: #ffb300;
    --web-cyan: #00e5cc;
    --trading-green: #00e676;
    --alert-red: #ff1744;
    --bg-deep: #05080d;
    --bg-panel: rgba(10, 16, 28, 0.92);
    --ring-color: rgba(255, 107, 26, 0.10);
    --ring-bright: rgba(255, 107, 26, 0.25);
    --text-dim: rgba(255, 167, 38, 0.4);
    --text-mid: rgba(255, 167, 38, 0.7);
    --text-bright: #ffd180;
    --scanline: rgba(255, 107, 26, 0.03);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg-deep);
    color: var(--text-bright);
    font-family: 'Share Tech Mono', monospace;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    cursor: crosshair;
  }

  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, var(--scanline) 2px, var(--scanline) 4px);
    pointer-events: none;
    z-index: 9999;
  }

  /* Top bar */
  .top-bar {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    background: linear-gradient(180deg, rgba(10,16,28,0.95) 0%, transparent 100%);
    z-index: 100;
    border-bottom: 1px solid rgba(255,107,26,0.08);
  }

  .top-bar-left { display: flex; align-items: center; gap: 12px; }

  .top-bar-title {
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    font-size: 14px;
    letter-spacing: 6px;
    color: var(--core-orange);
    text-shadow: 0 0 20px var(--glow-orange);
  }

  .top-bar-version {
    font-size: 9px;
    color: var(--text-dim);
    letter-spacing: 2px;
    padding: 2px 6px;
    border: 1px solid rgba(255,107,26,0.15);
    border-radius: 2px;
  }

  .top-bar-right { display: flex; align-items: center; gap: 20px; font-size: 11px; }

  .status-indicator { display: flex; align-items: center; gap: 6px; letter-spacing: 1px; }

  .status-dot {
    width: 6px; height: 6px;
    border-radius: 50%;
    background: var(--trading-green);
    box-shadow: 0 0 8px var(--trading-green);
    animation: pulse-dot 2s ease-in-out infinite;
  }
  .status-dot.warning { background: var(--core-amber); box-shadow: 0 0 8px var(--core-amber); }

  .clock {
    font-family: 'Orbitron', sans-serif;
    font-size: 11px;
    color: var(--text-mid);
    letter-spacing: 2px;
  }

  /* Corner decorations */
  .corner-deco { position: fixed; width: 60px; height: 60px; z-index: 50; opacity: 0.3; }
  .corner-deco.tl { top: 56px; left: 8px; border-top: 1px solid var(--core-orange); border-left: 1px solid var(--core-orange); }
  .corner-deco.tr { top: 56px; right: 8px; border-top: 1px solid var(--core-orange); border-right: 1px solid var(--core-orange); }
  .corner-deco.bl { bottom: 56px; left: 8px; border-bottom: 1px solid var(--core-orange); border-left: 1px solid var(--core-orange); }
  .corner-deco.br { bottom: 56px; right: 8px; border-bottom: 1px solid var(--core-orange); border-right: 1px solid var(--core-orange); }

  /* Radar container */
  .radar-container {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .radar {
    position: relative;
    width: 700px;
    height: 700px;
  }

  /* Radar rings */
  .radar-ring {
    position: absolute;
    border-radius: 50%;
    border: 1px solid var(--ring-color);
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    transition: border-color 0.8s ease;
  }
  .radar-ring:nth-child(1) { width: 150px; height: 150px; border-color: var(--ring-bright); }
  .radar-ring:nth-child(2) { width: 300px; height: 300px; animation: ring-pulse 4s ease-in-out infinite; }
  .radar-ring:nth-child(3) { width: 450px; height: 450px; animation: ring-pulse 4s ease-in-out infinite 1s; }
  .radar-ring:nth-child(4) { width: 600px; height: 600px; animation: ring-pulse 4s ease-in-out infinite 2s; }
  .radar-ring:nth-child(5) { width: 700px; height: 700px; border-style: dashed; border-color: rgba(255,107,26,0.05); }

  /* Crosshairs */
  .crosshair-h, .crosshair-v { position: absolute; top: 50%; left: 50%; background: rgba(255, 107, 26, 0.04); }
  .crosshair-h { width: 700px; height: 1px; transform: translate(-50%, 0); }
  .crosshair-v { width: 1px; height: 700px; transform: translate(0, -50%); }

  /* Sweep */
  .sweep {
    position: absolute;
    top: 50%; left: 50%;
    width: 350px; height: 2px;
    transform-origin: 0 50%;
    background: linear-gradient(90deg, var(--core-orange), transparent);
    animation: sweep-rotate 6s linear infinite;
    opacity: 0.4;
    z-index: 5;
  }
  .sweep::after {
    content: '';
    position: absolute;
    top: -120px; left: 0;
    width: 350px; height: 240px;
    transform-origin: 0 50%;
    background: conic-gradient(from -15deg at 0% 50%, transparent 0deg, rgba(255,107,26,0.06) 15deg, transparent 30deg);
  }

  /* Coordinate labels */
  .coord-label {
    position: absolute;
    font-size: 8px;
    color: var(--text-dim);
    letter-spacing: 2px;
    opacity: 0.3;
  }

  /* ===================== */
  /* DYNAMIC CORE          */
  /* ===================== */
  .core {
    position: absolute;
    z-index: 30;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    transition: left 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                top 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    /* Start at center */
    left: 350px;
    top: 350px;
    transform: translate(-50%, -50%);
  }

  .core-orb {
    width: 70px; height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    cursor: pointer;
    transition: all 0.6s ease;
  }

  .core-orb-inner {
    width: 44px; height: 44px;
    border-radius: 50%;
    background: radial-gradient(circle, var(--core-orange) 0%, rgba(255,107,26,0.3) 60%, transparent 80%);
    box-shadow: 0 0 40px rgba(255,107,26,0.4), 0 0 80px rgba(255,107,26,0.15);
    animation: core-breathe 3s ease-in-out infinite;
    transition: background 0.8s, box-shadow 0.8s;
  }

  /* Orbiting ring around core */
  .core-orbit-ring {
    position: absolute;
    width: 70px; height: 70px;
    border-radius: 50%;
    border: 1px solid rgba(255,107,26,0.3);
    animation: orbit-spin 4s linear infinite;
    transition: border-color 0.8s;
  }
  .core-orbit-ring::before {
    content: '';
    position: absolute;
    top: -3px; left: 50%;
    width: 6px; height: 6px;
    border-radius: 50%;
    background: var(--core-orange);
    box-shadow: 0 0 8px var(--core-orange);
    transform: translateX(-50%);
    transition: background 0.8s, box-shadow 0.8s;
  }

  .core-label {
    font-family: 'Orbitron', sans-serif;
    font-size: 8px;
    letter-spacing: 4px;
    color: var(--core-orange);
    text-shadow: 0 0 10px var(--glow-orange);
    white-space: nowrap;
    transition: color 0.8s;
  }

  /* Activity state label under core */
  .core-activity {
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px;
    letter-spacing: 2px;
    color: var(--text-dim);
    white-space: nowrap;
    transition: color 0.5s;
    animation: activity-blink 1.5s ease-in-out infinite;
  }

  /* Active connection beam (SVG) */
  .connection-beam {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 15;
    pointer-events: none;
  }

  .beam-line {
    stroke-width: 2;
    fill: none;
    opacity: 0;
    transition: opacity 0.6s ease;
    filter: url(#glow-filter);
  }
  .beam-line.active { opacity: 0.7; }

  .beam-particles {
    fill: var(--core-orange);
    opacity: 0;
    transition: opacity 0.4s;
  }
  .beam-particles.active { opacity: 1; }

  /* ===================== */
  /* MODULE NODES          */
  /* ===================== */
  .module-node {
    position: absolute;
    z-index: 20;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: transform 0.3s ease;
  }
  .module-node:hover { transform: scale(1.08); }
  .module-node:hover .module-icon { border-color: var(--module-color); box-shadow: 0 0 30px var(--module-glow), inset 0 0 20px var(--module-glow); }
  .module-node:hover .module-tooltip { opacity: 1; transform: translateY(0); pointer-events: auto; }

  .module-icon {
    width: 64px; height: 64px;
    border-radius: 12px;
    background: var(--bg-panel);
    border: 1px solid rgba(255,255,255,0.08);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.4s ease;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 15px var(--module-glow);
    position: relative;
  }

  /* Active ping ring on module when core is near */
  .module-icon::after {
    content: '';
    position: absolute;
    inset: -8px;
    border-radius: 16px;
    border: 2px solid var(--module-color);
    opacity: 0;
    transition: opacity 0.4s;
    animation: module-ping 2s ease-out infinite;
    pointer-events: none;
  }
  .module-node.targeted .module-icon::after { opacity: 1; }
  .module-node.targeted .module-icon { 
    border-color: var(--module-color); 
    box-shadow: 0 0 40px var(--module-glow), 0 0 80px var(--module-glow); 
  }

  .module-icon svg { width: 28px; height: 28px; opacity: 0.9; }

  .module-label {
    font-family: 'Orbitron', sans-serif;
    font-size: 9px;
    letter-spacing: 4px;
    color: var(--text-dim);
    transition: color 0.3s;
    text-transform: uppercase;
  }
  .module-node.targeted .module-label { color: var(--module-color); }

  /* Module positions */
  .module-chat { --module-color: var(--chat-blue); --module-glow: rgba(0,184,255,0.15); top: 8%; left: 18%; }
  .module-files { --module-color: var(--files-amber); --module-glow: rgba(255,179,0,0.15); top: 8%; right: 18%; }
  .module-web { --module-color: var(--web-cyan); --module-glow: rgba(0,229,204,0.15); bottom: 8%; left: 18%; }
  .module-trading { --module-color: var(--trading-green); --module-glow: rgba(0,230,118,0.15); bottom: 8%; right: 18%; }

  /* Module tooltip */
  .module-tooltip {
    position: absolute;
    top: 80px;
    background: var(--bg-panel);
    border: 1px solid var(--module-color);
    border-radius: 4px;
    padding: 12px 16px;
    min-width: 180px;
    opacity: 0;
    transform: translateY(-8px);
    transition: all 0.3s ease;
    pointer-events: none;
    backdrop-filter: blur(12px);
    box-shadow: 0 0 20px var(--module-glow);
    z-index: 50;
  }
  .tooltip-header { font-family: 'Orbitron', sans-serif; font-size: 10px; letter-spacing: 2px; color: var(--module-color); margin-bottom: 8px; padding-bottom: 6px; border-bottom: 1px solid rgba(255,255,255,0.06); }
  .tooltip-row { display: flex; justify-content: space-between; font-size: 11px; margin: 4px 0; }
  .tooltip-key { color: var(--text-dim); }
  .tooltip-val { color: var(--text-bright); }
  .tooltip-val.active { color: var(--trading-green); }
  .tooltip-val.warning { color: var(--core-amber); }

  /* ===================== */
  /* ACTIVITY LOG          */
  /* ===================== */
  .activity-log {
    position: fixed;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 260px;
    z-index: 80;
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .activity-log-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 9px;
    letter-spacing: 3px;
    color: var(--text-dim);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .activity-log-title::before {
    content: '';
    width: 6px; height: 6px;
    background: var(--core-orange);
    border-radius: 50%;
    animation: pulse-dot 1.5s ease-in-out infinite;
  }

  .log-entry {
    font-size: 10px;
    padding: 4px 8px;
    border-left: 2px solid var(--text-dim);
    color: var(--text-dim);
    opacity: 0;
    transform: translateX(-10px);
    animation: log-slide-in 0.3s ease forwards;
    transition: opacity 0.5s, border-color 0.3s;
    line-height: 1.4;
  }

  .log-entry.current {
    border-left-color: var(--core-orange);
    color: var(--text-bright);
  }

  .log-entry .log-time {
    color: var(--text-dim);
    font-size: 8px;
    margin-right: 6px;
  }

  .log-entry .log-module {
    font-family: 'Orbitron', sans-serif;
    font-size: 8px;
    letter-spacing: 1px;
    padding: 1px 4px;
    border-radius: 2px;
    margin-right: 4px;
  }

  .log-module.chat { background: rgba(0,184,255,0.15); color: var(--chat-blue); }
  .log-module.trading { background: rgba(0,230,118,0.15); color: var(--trading-green); }
  .log-module.web { background: rgba(0,229,204,0.15); color: var(--web-cyan); }
  .log-module.files { background: rgba(255,179,0,0.15); color: var(--files-amber); }
  .log-module.system { background: rgba(255,107,26,0.15); color: var(--core-orange); }

  /* ===================== */
  /* CURRENT TASK PANEL    */
  /* ===================== */
  .task-panel {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 280px;
    z-index: 80;
    background: var(--bg-panel);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 6px;
    padding: 16px;
    backdrop-filter: blur(10px);
    opacity: 0;
    transition: opacity 0.5s, border-color 0.5s;
  }

  .task-panel.active {
    opacity: 1;
  }

  .task-panel-header {
    font-family: 'Orbitron', sans-serif;
    font-size: 9px;
    letter-spacing: 3px;
    color: var(--text-dim);
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .task-panel-module {
    font-family: 'Orbitron', sans-serif;
    font-size: 11px;
    letter-spacing: 2px;
    margin-bottom: 8px;
  }

  .task-panel-desc {
    font-size: 12px;
    color: var(--text-mid);
    line-height: 1.5;
    margin-bottom: 12px;
  }

  .task-progress {
    width: 100%; height: 3px;
    background: rgba(255,255,255,0.06);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 8px;
  }

  .task-progress-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.5s ease, background 0.5s;
    animation: progress-glow 2s ease-in-out infinite;
  }

  .task-substeps {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-top: 8px;
  }

  .task-substep {
    font-size: 10px;
    color: var(--text-dim);
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 3px 0;
  }

  .task-substep.done { color: var(--trading-green); }
  .task-substep.active { color: var(--text-bright); }

  .substep-icon {
    width: 12px; height: 12px;
    border-radius: 50%;
    border: 1px solid var(--text-dim);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8px;
    flex-shrink: 0;
  }
  .task-substep.done .substep-icon { border-color: var(--trading-green); background: rgba(0,230,118,0.15); }
  .task-substep.active .substep-icon { border-color: var(--core-orange); animation: pulse-dot 1s ease-in-out infinite; background: rgba(255,107,26,0.2); }

  /* ===================== */
  /* DETAIL OVERLAY        */
  /* ===================== */
  .detail-overlay {
    position: fixed;
    inset: 0;
    background: rgba(5, 8, 13, 0.85);
    backdrop-filter: blur(8px);
    z-index: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
  }
  .detail-overlay.active { opacity: 1; pointer-events: auto; }

  .detail-panel {
    background: var(--bg-panel);
    border: 1px solid var(--panel-color, var(--core-orange));
    border-radius: 8px;
    width: 90%; max-width: 900px; max-height: 80vh;
    overflow-y: auto;
    padding: 32px;
    transform: scale(0.9);
    transition: transform 0.4s ease;
    box-shadow: 0 0 60px var(--panel-glow, rgba(255,107,26,0.15));
  }
  .detail-overlay.active .detail-panel { transform: scale(1); }

  .detail-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.06); }
  .detail-title { font-family: 'Orbitron', sans-serif; font-size: 18px; letter-spacing: 4px; color: var(--panel-color, var(--core-orange)); display: flex; align-items: center; gap: 12px; }
  .detail-close { width: 32px; height: 32px; border: 1px solid rgba(255,255,255,0.1); border-radius: 4px; background: transparent; color: var(--text-mid); font-size: 18px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
  .detail-close:hover { border-color: var(--alert-red); color: var(--alert-red); }

  .stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 24px; }
  .stat-card { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 6px; padding: 16px; text-align: center; }
  .stat-value { font-family: 'Orbitron', sans-serif; font-size: 22px; font-weight: 700; margin-bottom: 4px; }
  .stat-value.green { color: var(--trading-green); }
  .stat-value.orange { color: var(--core-amber); }
  .stat-label { font-size: 9px; letter-spacing: 3px; color: var(--text-dim); text-transform: uppercase; }

  .section-title { font-family: 'Orbitron', sans-serif; font-size: 11px; letter-spacing: 3px; color: var(--text-mid); margin: 24px 0 8px; display: flex; align-items: center; gap: 8px; }
  .section-title::before { content: ''; width: 8px; height: 8px; background: var(--panel-color, var(--core-orange)); border-radius: 2px; opacity: 0.7; }

  .data-table { width: 100%; border-collapse: collapse; margin-top: 16px; }
  .data-table th { font-family: 'Orbitron', sans-serif; font-size: 9px; letter-spacing: 2px; color: var(--text-dim); text-align: left; padding: 8px 12px; border-bottom: 1px solid rgba(255,255,255,0.06); text-transform: uppercase; }
  .data-table td { font-size: 12px; padding: 10px 12px; border-bottom: 1px solid rgba(255,255,255,0.03); color: var(--text-bright); }

  .badge { padding: 2px 8px; border-radius: 3px; font-size: 10px; font-weight: 600; letter-spacing: 1px; }
  .badge.long { background: rgba(0,230,118,0.15); color: var(--trading-green); }
  .badge.short { background: rgba(255,23,68,0.15); color: var(--alert-red); }
  .badge.active { background: rgba(0,230,118,0.15); color: var(--trading-green); }
  .badge.take-profit { background: rgba(0,184,255,0.15); color: var(--chat-blue); }

  /* HUD Stats */
  .hud-stats {
    position: fixed;
    bottom: 16px; left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 32px;
    font-size: 10px;
    letter-spacing: 2px;
    color: var(--text-dim);
    z-index: 50;
    background: rgba(10,16,28,0.7);
    padding: 8px 24px;
    border-radius: 4px;
    border: 1px solid rgba(255,107,26,0.08);
    backdrop-filter: blur(8px);
  }
  .hud-item { display: flex; align-items: center; gap: 8px; }
  .hud-label { color: var(--text-dim); }
  .hud-value { color: var(--text-mid); font-family: 'Orbitron', sans-serif; font-size: 10px; }
  .hud-value.live { color: var(--trading-green); }

  /* Particles container */
  .particles-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 4;
  }

  .particle {
    position: absolute;
    width: 2px; height: 2px;
    border-radius: 50%;
    opacity: 0;
    animation: particle-float var(--dur) ease-in-out infinite;
    animation-delay: var(--delay);
  }

  /* Simulation controls */
  .sim-controls {
    position: fixed;
    bottom: 60px; left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 100;
  }

  .sim-btn {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    letter-spacing: 1px;
    padding: 6px 14px;
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 3px;
    background: rgba(10,16,28,0.8);
    color: var(--text-mid);
    cursor: pointer;
    transition: all 0.2s;
    backdrop-filter: blur(4px);
  }
  .sim-btn:hover { border-color: var(--core-orange); color: var(--core-orange); }
  .sim-btn.active-btn { border-color: var(--core-orange); color: var(--core-orange); background: rgba(255,107,26,0.1); }

  /* Animations */
  @keyframes sweep-rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  @keyframes ring-pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }
  @keyframes core-breathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.08); } }
  @keyframes orbit-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  @keyframes pulse-dot { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
  @keyframes activity-blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
  @keyframes module-ping { 0% { transform: scale(1); opacity: 0.6; } 100% { transform: scale(1.4); opacity: 0; } }
  @keyframes log-slide-in { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
  @keyframes progress-glow { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(1.3); } }
  @keyframes particle-float {
    0%, 100% { opacity: 0; transform: translate(0, 0) scale(0); }
    20% { opacity: 0.6; transform: scale(1); }
    80% { opacity: 0.3; }
    100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0); }
  }
  @keyframes beam-dash { from { stroke-dashoffset: 20; } to { stroke-dashoffset: 0; } }

  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: rgba(255,107,26,0.2); border-radius: 2px; }

  .session-card { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 6px; padding: 16px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; }
  .session-name { font-family: 'Rajdhani', sans-serif; font-size: 16px; font-weight: 600; }
  .session-meta { font-size: 11px; color: var(--text-dim); display: flex; gap: 16px; margin-top: 4px; }
  .token-bar { width: 120px; height: 4px; background: rgba(255,255,255,0.06); border-radius: 2px; overflow: hidden; }
  .token-bar-fill { height: 100%; border-radius: 2px; }
</style>
</head>
<body>

<!-- Top Bar -->
<div class="top-bar">
  <div class="top-bar-left">
    <span class="top-bar-title">PROMETHEUS</span>
    <span class="top-bar-version">v3.2.1</span>
  </div>
  <div class="top-bar-right">
    <div class="status-indicator"><div class="status-dot"></div><span>GATEWAY</span></div>
    <div class="status-indicator"><div class="status-dot"></div><span>CODEX</span></div>
    <div class="status-indicator"><div class="status-dot warning" id="trading-dot"></div><span>TRADING</span></div>
    <div class="clock" id="clock">--:--:--</div>
  </div>
</div>

<div class="corner-deco tl"></div>
<div class="corner-deco tr"></div>
<div class="corner-deco bl"></div>
<div class="corner-deco br"></div>

<!-- Activity Log (left side) -->
<div class="activity-log" id="activity-log">
  <div class="activity-log-title">ACTIVITY FEED</div>
</div>

<!-- Current Task Panel (right side) -->
<div class="task-panel" id="task-panel">
  <div class="task-panel-header">
    <span>CURRENT TASK</span>
    <span id="task-elapsed" style="color:var(--core-orange);">--</span>
  </div>
  <div class="task-panel-module" id="task-module">IDLE</div>
  <div class="task-panel-desc" id="task-desc">Awaiting instructions...</div>
  <div class="task-progress"><div class="task-progress-fill" id="task-progress" style="width:0%;background:var(--core-orange);"></div></div>
  <div class="task-substeps" id="task-substeps"></div>
</div>

<!-- Main Radar -->
<div class="radar-container">
  <div class="radar" id="radar">
    <div class="radar-ring"></div>
    <div class="radar-ring"></div>
    <div class="radar-ring"></div>
    <div class="radar-ring"></div>
    <div class="radar-ring"></div>
    <div class="crosshair-h"></div>
    <div class="crosshair-v"></div>
    <div class="sweep"></div>
    <div class="coord-label" style="top:50%;left:2px;transform:translateY(-50%);">270¬∞</div>
    <div class="coord-label" style="top:50%;right:2px;transform:translateY(-50%);">090¬∞</div>
    <div class="coord-label" style="top:2px;left:50%;transform:translateX(-50%);">000¬∞</div>
    <div class="coord-label" style="bottom:2px;left:50%;transform:translateX(-50%);">180¬∞</div>

    <!-- Connection beam SVG -->
    <svg class="connection-beam" id="beam-svg" viewBox="0 0 700 700">
      <defs>
        <filter id="glow-filter">
          <feGaussianBlur stdDeviation="3" result="blur"/>
          <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
      </defs>
      <line class="beam-line" id="beam-line" x1="350" y1="350" x2="350" y2="350" stroke="var(--core-orange)" stroke-dasharray="6 4" style="animation: beam-dash 0.5s linear infinite;"/>
      <!-- Traveling particle along beam -->
      <circle class="beam-particles" id="beam-particle" r="3" cx="350" cy="350">
        <animate id="beam-anim-x" attributeName="cx" dur="1.5s" repeatCount="indefinite"/>
        <animate id="beam-anim-y" attributeName="cy" dur="1.5s" repeatCount="indefinite"/>
      </circle>
    </svg>

    <!-- Dynamic Core -->
    <div class="core" id="core">
      <div class="core-orb">
        <div class="core-orbit-ring" id="core-ring"></div>
        <div class="core-orb-inner" id="core-inner"></div>
      </div>
      <span class="core-label" id="core-label">PROMETHEUS</span>
      <span class="core-activity" id="core-activity">IDLE</span>
    </div>

    <!-- Module nodes -->
    <div class="module-node module-chat" id="mod-chat" onclick="openPanel('chat')">
      <div class="module-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="var(--chat-blue)" stroke-width="1.5"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/><path d="M8 9h8M8 13h4" stroke-linecap="round" opacity="0.5"/></svg>
      </div>
      <span class="module-label">Chat</span>
      <div class="module-tooltip">
        <div class="tooltip-header">CHAT SESSIONS</div>
        <div class="tooltip-row"><span class="tooltip-key">Active</span><span class="tooltip-val active">2 sessions</span></div>
        <div class="tooltip-row"><span class="tooltip-key">Model</span><span class="tooltip-val">gpt-5.2-codex</span></div>
        <div class="tooltip-row"><span class="tooltip-key">Tokens</span><span class="tooltip-val warning">145k / 400k</span></div>
      </div>
    </div>

    <div class="module-node module-files" id="mod-files" onclick="openPanel('files')">
      <div class="module-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="var(--files-amber)" stroke-width="1.5"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
      </div>
      <span class="module-label">Files</span>
      <div class="module-tooltip">
        <div class="tooltip-header">WORKSPACE FILES</div>
        <div class="tooltip-row"><span class="tooltip-key">Skills</span><span class="tooltip-val">5 active</span></div>
        <div class="tooltip-row"><span class="tooltip-key">Logs</span><span class="tooltip-val active">streaming</span></div>
      </div>
    </div>

    <div class="module-node module-web" id="mod-web" onclick="openPanel('web')">
      <div class="module-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="var(--web-cyan)" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15 15 0 014 10 15 15 0 01-4 10 15 15 0 01-4-10A15 15 0 0112 2z"/></svg>
      </div>
      <span class="module-label">Web</span>
      <div class="module-tooltip">
        <div class="tooltip-header">WEB TOOLS</div>
        <div class="tooltip-row"><span class="tooltip-key">Search</span><span class="tooltip-val active">Brave API</span></div>
        <div class="tooltip-row"><span class="tooltip-key">Status</span><span class="tooltip-val active">Ready</span></div>
      </div>
    </div>

    <div class="module-node module-trading" id="mod-trading" onclick="openPanel('trading')">
      <div class="module-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="var(--trading-green)" stroke-width="1.5"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>
      </div>
      <span class="module-label">Trading</span>
      <div class="module-tooltip">
        <div class="tooltip-header">TRADING BOT</div>
        <div class="tooltip-row"><span class="tooltip-key">Balance</span><span class="tooltip-val">$351.10</span></div>
        <div class="tooltip-row"><span class="tooltip-key">P&L</span><span class="tooltip-val active">+$3.60</span></div>
        <div class="tooltip-row"><span class="tooltip-key">Mode</span><span class="tooltip-val warning">Paper</span></div>
      </div>
    </div>

    <!-- Particles -->
    <div class="particles-container" id="particles"></div>
  </div>
</div>

<!-- HUD -->
<div class="hud-stats">
  <div class="hud-item"><span class="hud-label">MODEL</span><span class="hud-value">GPT-5.2-CODEX</span></div>
  <div class="hud-item"><span class="hud-label">GATEWAY</span><span class="hud-value live">ONLINE</span></div>
  <div class="hud-item"><span class="hud-label">TOKENS</span><span class="hud-value" id="hud-tokens">145.5K / 400K</span></div>
  <div class="hud-item"><span class="hud-label">UPTIME</span><span class="hud-value" id="hud-uptime">00:00:00</span></div>
</div>

<!-- Simulation buttons -->
<div class="sim-controls">
  <button class="sim-btn" onclick="simulateActivity('idle')">‚è∏ IDLE</button>
  <button class="sim-btn" onclick="simulateActivity('chat')">üí¨ CHAT</button>
  <button class="sim-btn" onclick="simulateActivity('trading')">üìà TRADE</button>
  <button class="sim-btn" onclick="simulateActivity('web')">üåê SEARCH</button>
  <button class="sim-btn" onclick="simulateActivity('files')">üìÅ FILES</button>
  <button class="sim-btn" onclick="simulateActivity('multi')">‚ö° MULTI</button>
</div>

<!-- Detail Overlay -->
<div class="detail-overlay" id="detail-overlay" onclick="closePanel(event)">
  <div class="detail-panel" id="detail-panel" onclick="event.stopPropagation()"></div>
</div>

<script>
  // ==========================================
  // MODULE POSITION MAP (center of each icon)
  // ==========================================
  const modulePositions = {
    idle:    { x: 350, y: 350 },
    chat:    { x: 158, y: 88 },
    files:   { x: 542, y: 88 },
    web:     { x: 158, y: 612 },
    trading: { x: 542, y: 612 },
  };

  const moduleColors = {
    idle:    { main: '#ff6b1a', glow: 'rgba(255,107,26,0.4)', beam: '#ff6b1a' },
    chat:    { main: '#00b8ff', glow: 'rgba(0,184,255,0.4)', beam: '#00b8ff' },
    files:   { main: '#ffb300', glow: 'rgba(255,179,0,0.4)', beam: '#ffb300' },
    web:     { main: '#00e5cc', glow: 'rgba(0,229,204,0.4)', beam: '#00e5cc' },
    trading: { main: '#00e676', glow: 'rgba(0,230,118,0.4)', beam: '#00e676' },
  };

  let currentTarget = 'idle';
  let taskStartTime = null;

  // ==========================================
  // CORE MOVEMENT
  // ==========================================
  function moveCoreToModule(target) {
    const core = document.getElementById('core');
    const pos = modulePositions[target];

    // Move toward module but stop 30% of the way (don't overlap)
    const cx = 350, cy = 350;
    const ratio = target === 'idle' ? 0 : 0.42;
    const tx = cx + (pos.x - cx) * ratio;
    const ty = cy + (pos.y - cy) * ratio;

    core.style.left = tx + 'px';
    core.style.top = ty + 'px';

    // Update core color
    const colors = moduleColors[target];
    const inner = document.getElementById('core-inner');
    const ring = document.getElementById('core-ring');
    const label = document.getElementById('core-label');

    inner.style.background = `radial-gradient(circle, ${colors.main} 0%, ${colors.glow} 60%, transparent 80%)`;
    inner.style.boxShadow = `0 0 40px ${colors.glow}, 0 0 80px ${colors.glow.replace('0.4', '0.15')}`;
    ring.style.borderColor = colors.main + '44';
    ring.querySelector ? null : null;
    label.style.color = colors.main;
    label.style.textShadow = `0 0 10px ${colors.glow}`;

    // Update beam
    updateBeam(tx, ty, target);

    // Update module targeted states
    document.querySelectorAll('.module-node').forEach(n => n.classList.remove('targeted'));
    if (target !== 'idle') {
      document.getElementById('mod-' + target).classList.add('targeted');
    }
  }

  // ==========================================
  // CONNECTION BEAM
  // ==========================================
  function updateBeam(coreX, coreY, target) {
    const beamLine = document.getElementById('beam-line');
    const beamParticle = document.getElementById('beam-particle');
    const beamAnimX = document.getElementById('beam-anim-x');
    const beamAnimY = document.getElementById('beam-anim-y');

    if (target === 'idle') {
      beamLine.classList.remove('active');
      beamParticle.classList.remove('active');
      return;
    }

    const pos = modulePositions[target];
    const colors = moduleColors[target];

    beamLine.setAttribute('x1', coreX);
    beamLine.setAttribute('y1', coreY);
    beamLine.setAttribute('x2', pos.x);
    beamLine.setAttribute('y2', pos.y);
    beamLine.setAttribute('stroke', colors.beam);
    beamLine.classList.add('active');

    // Animate particle along beam
    beamAnimX.setAttribute('from', coreX);
    beamAnimX.setAttribute('to', pos.x);
    beamAnimY.setAttribute('from', coreY);
    beamAnimY.setAttribute('to', pos.y);
    beamParticle.setAttribute('fill', colors.beam);
    beamParticle.classList.add('active');

    // Restart animations
    beamAnimX.beginElement();
    beamAnimY.beginElement();
  }

  // ==========================================
  // ACTIVITY SCENARIOS
  // ==========================================
  const activityScenarios = {
    idle: {
      label: 'IDLE ‚Äî MONITORING',
      activity: 'Awaiting instructions...',
      taskModule: 'SYSTEM',
      taskDesc: 'All systems nominal. Monitoring gateway, trading positions, and incoming messages.',
      progress: 0,
      substeps: [],
      logs: [
        { module: 'system', text: 'Heartbeat OK ‚Äî all systems nominal' },
      ]
    },
    chat: {
      label: 'PROCESSING ‚Äî CHAT',
      activity: 'Generating response...',
      taskModule: 'CHAT',
      taskDesc: 'Processing incoming Telegram message. Analyzing context and generating response using GPT-5.2 Codex.',
      progress: 65,
      substeps: [
        { text: 'Received message from @wilsonleee', status: 'done' },
        { text: 'Loading session context (145k tokens)', status: 'done' },
        { text: 'Generating response...', status: 'active' },
        { text: 'Send via Telegram', status: 'pending' },
      ],
      logs: [
        { module: 'chat', text: 'Message received: "How do I fix the OAuth..."' },
        { module: 'chat', text: 'Session loaded: 145.5k / 400k tokens' },
        { module: 'system', text: 'Model: openai-codex/gpt-5.2-codex' },
        { module: 'chat', text: 'Generating response (stream)...' },
      ]
    },
    trading: {
      label: 'EXECUTING ‚Äî TRADE',
      activity: 'Analyzing BTC breakout...',
      taskModule: 'TRADING',
      taskDesc: 'Detected potential breakout pattern on BTC/USD. Running strategy analysis with 2% SL / 4% TP configuration.',
      progress: 80,
      substeps: [
        { text: 'Fetched market data (BTC, ETH, SOL)', status: 'done' },
        { text: 'Breakout pattern detected on BTC', status: 'done' },
        { text: 'Risk assessment: 2x lev, 30% size', status: 'done' },
        { text: 'Placing paper order...', status: 'active' },
        { text: 'Confirm position & set SL/TP', status: 'pending' },
      ],
      logs: [
        { module: 'trading', text: 'Market scan initiated ‚Äî 15 pairs' },
        { module: 'trading', text: 'BTC/USD breakout signal detected' },
        { module: 'web', text: 'Fetched order book depth from exchange' },
        { module: 'trading', text: 'Strategy: breakout | SL: 2% | TP: 4%' },
        { module: 'trading', text: 'Paper order: LONG BTC @ $69,111' },
      ]
    },
    web: {
      label: 'SEARCHING ‚Äî WEB',
      activity: 'Crawling search results...',
      taskModule: 'WEB',
      taskDesc: 'Performing web search via Brave API. Fetching and parsing top results for relevant information.',
      progress: 45,
      substeps: [
        { text: 'Query: "OpenClaw Codex OAuth setup"', status: 'done' },
        { text: 'Brave API returned 10 results', status: 'done' },
        { text: 'Fetching page: docs.openclaw.ai...', status: 'active' },
        { text: 'Parse and summarize content', status: 'pending' },
        { text: 'Return results to chat', status: 'pending' },
      ],
      logs: [
        { module: 'chat', text: 'User asked: "How to setup Codex OAuth?"' },
        { module: 'web', text: 'web_search: "OpenClaw Codex OAuth setup"' },
        { module: 'web', text: 'Brave API: 10 results in 230ms' },
        { module: 'web', text: 'web_fetch: docs.openclaw.ai/providers/openai' },
      ]
    },
    files: {
      label: 'WRITING ‚Äî FILES',
      activity: 'Saving workspace data...',
      taskModule: 'FILES',
      taskDesc: 'Writing updated configuration and session data to the workspace directory.',
      progress: 70,
      substeps: [
        { text: 'Read ~/.openclaw/openclaw.json', status: 'done' },
        { text: 'Updated model config', status: 'done' },
        { text: 'Writing auth-profiles.json...', status: 'active' },
        { text: 'Restart gateway service', status: 'pending' },
      ],
      logs: [
        { module: 'files', text: 'Read config: ~/.openclaw/openclaw.json' },
        { module: 'files', text: 'Backup: openclaw.json.bak created' },
        { module: 'files', text: 'Updated: agents.defaults.model.primary' },
        { module: 'files', text: 'Writing: auth-profiles.json...' },
      ]
    },
    multi: {
      label: 'MULTI-TASK',
      activity: 'Parallel operations...',
      taskModule: 'MULTI-AGENT',
      taskDesc: 'Running parallel operations: responding to chat while monitoring trading positions and fetching web data.',
      progress: 55,
      substeps: [
        { text: '[CHAT] Processing message from Wilson', status: 'active' },
        { text: '[TRADE] Monitoring 3 open positions', status: 'active' },
        { text: '[WEB] Background research running', status: 'active' },
        { text: '[FILES] Log rotation scheduled', status: 'pending' },
      ],
      logs: [
        { module: 'chat', text: 'Message received from @wilsonleee' },
        { module: 'trading', text: 'BTC position +2.1% ‚Äî approaching TP' },
        { module: 'web', text: 'Background fetch: market sentiment' },
        { module: 'trading', text: 'GOLD position stable at +0.4%' },
        { module: 'chat', text: 'Generating multi-context response...' },
        { module: 'system', text: 'Token usage: 161k / 400k (40%)' },
      ]
    }
  };

  // ==========================================
  // SIMULATE ACTIVITY
  // ==========================================
  function simulateActivity(target) {
    currentTarget = target;
    taskStartTime = Date.now();
    const scenario = activityScenarios[target];
    const colors = moduleColors[target] || moduleColors.idle;

    // Move core
    if (target === 'multi') {
      // For multi, oscillate between modules
      startMultiOscillation();
    } else {
      stopMultiOscillation();
      moveCoreToModule(target);
    }

    // Update core activity text
    document.getElementById('core-activity').textContent = scenario.label;
    document.getElementById('core-activity').style.color = colors.main;

    // Update task panel
    const taskPanel = document.getElementById('task-panel');
    taskPanel.classList.add('active');
    taskPanel.style.borderColor = colors.main + '33';

    document.getElementById('task-module').textContent = scenario.taskModule;
    document.getElementById('task-module').style.color = colors.main;
    document.getElementById('task-desc').textContent = scenario.taskDesc;

    const progressEl = document.getElementById('task-progress');
    progressEl.style.width = scenario.progress + '%';
    progressEl.style.background = colors.main;

    // Substeps
    const substepsEl = document.getElementById('task-substeps');
    substepsEl.innerHTML = scenario.substeps.map(s => `
      <div class="task-substep ${s.status}">
        <div class="substep-icon">${s.status === 'done' ? '‚úì' : s.status === 'active' ? '‚óè' : '‚óã'}</div>
        <span>${s.text}</span>
      </div>
    `).join('');

    // Add logs
    addLogs(scenario.logs);

    // Update sim buttons
    document.querySelectorAll('.sim-btn').forEach(b => b.classList.remove('active-btn'));
    event.target.classList.add('active-btn');
  }

  // ==========================================
  // MULTI-MODULE OSCILLATION
  // ==========================================
  let multiInterval = null;
  let multiIdx = 0;
  const multiTargets = ['chat', 'trading', 'web', 'chat', 'trading'];

  function startMultiOscillation() {
    stopMultiOscillation();
    moveCoreToModule(multiTargets[0]);
    multiInterval = setInterval(() => {
      multiIdx = (multiIdx + 1) % multiTargets.length;
      moveCoreToModule(multiTargets[multiIdx]);
    }, 2500);
  }

  function stopMultiOscillation() {
    if (multiInterval) { clearInterval(multiInterval); multiInterval = null; }
    multiIdx = 0;
  }

  // ==========================================
  // ACTIVITY LOG
  // ==========================================
  let logCount = 0;
  const MAX_LOGS = 12;

  function addLogs(logs) {
    const logEl = document.getElementById('activity-log');
    // Remove 'current' from existing
    logEl.querySelectorAll('.log-entry.current').forEach(e => e.classList.remove('current'));

    logs.forEach((log, i) => {
      setTimeout(() => {
        const entry = document.createElement('div');
        entry.className = 'log-entry current';
        const time = new Date().toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' });
        entry.innerHTML = `<span class="log-time">${time}</span><span class="log-module ${log.module}">${log.module.toUpperCase()}</span>${log.text}`;
        logEl.appendChild(entry);
        logCount++;

        // Remove old entries
        const entries = logEl.querySelectorAll('.log-entry');
        if (entries.length > MAX_LOGS) {
          entries[0].style.opacity = '0';
          setTimeout(() => entries[0].remove(), 300);
        }

        // Remove 'current' from previous
        if (i > 0) {
          const prev = logEl.querySelectorAll('.log-entry');
          if (prev.length > 1) prev[prev.length - 2].classList.remove('current');
        }
      }, i * 600);
    });
  }

  // ==========================================
  // TASK ELAPSED TIMER
  // ==========================================
  setInterval(() => {
    if (taskStartTime && currentTarget !== 'idle') {
      const diff = Date.now() - taskStartTime;
      const s = Math.floor(diff / 1000);
      document.getElementById('task-elapsed').textContent = s + 's';
    } else {
      document.getElementById('task-elapsed').textContent = '--';
    }
  }, 100);

  // ==========================================
  // CLOCK & UPTIME
  // ==========================================
  function updateClock() {
    document.getElementById('clock').textContent = new Date().toLocaleTimeString('en-US', { hour12: false });
  }
  setInterval(updateClock, 1000);
  updateClock();

  const startTime = Date.now();
  setInterval(() => {
    const diff = Date.now() - startTime;
    const h = Math.floor(diff / 3600000).toString().padStart(2, '0');
    const m = Math.floor((diff % 3600000) / 60000).toString().padStart(2, '0');
    const s = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');
    document.getElementById('hud-uptime').textContent = `${h}:${m}:${s}`;
  }, 1000);

  // ==========================================
  // PARTICLES
  // ==========================================
  const particlesEl = document.getElementById('particles');
  for (let i = 0; i < 25; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    const angle = Math.random() * Math.PI * 2;
    const dist = 80 + Math.random() * 220;
    p.style.left = `${350 + Math.cos(angle) * 40}px`;
    p.style.top = `${350 + Math.sin(angle) * 40}px`;
    p.style.setProperty('--tx', `${Math.cos(angle) * dist}px`);
    p.style.setProperty('--ty', `${Math.sin(angle) * dist}px`);
    p.style.setProperty('--dur', `${3 + Math.random() * 4}s`);
    p.style.setProperty('--delay', `${Math.random() * 5}s`);
    const colors = ['#ff6b1a', '#ffa726', '#00b8ff', '#00e676', '#00e5cc'];
    p.style.background = colors[Math.floor(Math.random() * colors.length)];
    particlesEl.appendChild(p);
  }

  // ==========================================
  // DETAIL PANELS (click module)
  // ==========================================
  const panelContent = {
    trading: {
      color: 'var(--trading-green)', glow: 'rgba(0,230,118,0.15)',
      html: `<div class="detail-header"><div class="detail-title"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--trading-green)" stroke-width="1.5"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>TRADING BOT</div><button class="detail-close" onclick="closePanel()">√ó</button></div>
        <div class="stats-row"><div class="stat-card"><div class="stat-value green">$351.10</div><div class="stat-label">PAPER BALANCE</div></div><div class="stat-card"><div class="stat-value green">+$3.60</div><div class="stat-label">TOTAL P&L</div></div><div class="stat-card"><div class="stat-value green">100.0%</div><div class="stat-label">WIN RATE</div></div><div class="stat-card"><div class="stat-value orange">3</div><div class="stat-label">CLOSED TRADES</div></div></div>
        <div class="section-title">OPEN POSITIONS</div>
        <table class="data-table"><tr><th>Asset</th><th>Side</th><th>Entry</th><th>SL</th><th>TP</th></tr><tr><td>xyz:GOLD</td><td><span class="badge long">LONG</span></td><td>$4,909.9</td><td>$4,811.70</td><td>$5,106.30</td></tr><tr><td>xyz:COPPER</td><td><span class="badge long">LONG</span></td><td>$5.845</td><td>$5.73</td><td>$6.08</td></tr><tr><td>BTC</td><td><span class="badge long">LONG</span></td><td>$69,111</td><td>$67,728</td><td>$71,875</td></tr></table>
        <div class="section-title">TRADE HISTORY</div>
        <table class="data-table"><tr><th>Asset</th><th>Side</th><th>P&L</th><th>Result</th></tr><tr><td>SOL</td><td><span class="badge short">SHORT</span></td><td style="color:var(--trading-green)">+$1.20 (+4%)</td><td><span class="badge take-profit">TP</span></td></tr><tr><td>ETH</td><td><span class="badge short">SHORT</span></td><td style="color:var(--trading-green)">+$1.20 (+4%)</td><td><span class="badge take-profit">TP</span></td></tr><tr><td>BTC</td><td><span class="badge short">SHORT</span></td><td style="color:var(--trading-green)">+$1.20 (+4%)</td><td><span class="badge take-profit">TP</span></td></tr></table>`
    },
    chat: {
      color: 'var(--chat-blue)', glow: 'rgba(0,184,255,0.15)',
      html: `<div class="detail-header"><div class="detail-title"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--chat-blue)" stroke-width="1.5"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>CHAT SESSIONS</div><button class="detail-close" onclick="closePanel()">√ó</button></div>
        <div class="session-card"><div><div class="session-name" style="color:var(--chat-blue)">wilson (@wilsonleee) id:255823071</div><div class="session-meta"><span>gpt-5.2-codex</span><span>telegram</span></div></div><div style="display:flex;align-items:center;gap:12px;"><span class="badge active">ACTIVE</span><div><div style="font-size:10px;color:var(--text-dim);margin-bottom:4px;">145.5k / 400k (36%)</div><div class="token-bar"><div class="token-bar-fill" style="width:36%;background:var(--chat-blue);"></div></div></div></div></div>
        <div class="session-card"><div><div class="session-name">Session</div><div class="session-meta"><span>gpt-5.2-codex</span><span>unknown</span></div></div><div style="display:flex;align-items:center;gap:12px;"><span class="badge active">ACTIVE</span><div><div style="font-size:10px;color:var(--text-dim);margin-bottom:4px;">15.5k / 200k (8%)</div><div class="token-bar"><div class="token-bar-fill" style="width:8%;background:var(--chat-blue);"></div></div></div></div></div>`
    },
    files: {
      color: 'var(--files-amber)', glow: 'rgba(255,179,0,0.15)',
      html: `<div class="detail-header"><div class="detail-title"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--files-amber)" stroke-width="1.5"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>WORKSPACE</div><button class="detail-close" onclick="closePanel()">√ó</button></div>
        <div class="stats-row" style="grid-template-columns:repeat(3,1fr);"><div class="stat-card"><div class="stat-value orange">5</div><div class="stat-label">SKILLS ACTIVE</div></div><div class="stat-card"><div class="stat-value orange">45</div><div class="stat-label">MISSING REQS</div></div><div class="stat-card"><div class="stat-value" style="color:var(--web-cyan);font-size:14px;">~/.openclaw</div><div class="stat-label">WORKSPACE</div></div></div>
        <div class="section-title">FILES</div>
        <table class="data-table"><tr><th>Path</th><th>Status</th></tr><tr><td>~/.openclaw/openclaw.json</td><td><span class="badge active">OK</span></td></tr><tr><td>~/.openclaw/workspace/</td><td><span class="badge active">OK</span></td></tr><tr><td>~/.openclaw/credentials/</td><td><span class="badge active">OK</span></td></tr><tr><td>~/gateway.log</td><td><span class="badge active">STREAMING</span></td></tr></table>`
    },
    web: {
      color: 'var(--web-cyan)', glow: 'rgba(0,229,204,0.15)',
      html: `<div class="detail-header"><div class="detail-title"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--web-cyan)" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15 15 0 014 10 15 15 0 01-4 10 15 15 0 01-4-10A15 15 0 0112 2z"/></svg>WEB TOOLS</div><button class="detail-close" onclick="closePanel()">√ó</button></div>
        <div class="stats-row" style="grid-template-columns:repeat(3,1fr);"><div class="stat-card"><div class="stat-value" style="color:var(--web-cyan)">Brave</div><div class="stat-label">SEARCH</div></div><div class="stat-card"><div class="stat-value" style="color:var(--web-cyan)">Chromium</div><div class="stat-label">BROWSER</div></div><div class="stat-card"><div class="stat-value" style="color:var(--trading-green)">Ready</div><div class="stat-label">STATUS</div></div></div>
        <div class="section-title">TOOLS</div>
        <table class="data-table"><tr><th>Tool</th><th>Description</th><th>Status</th></tr><tr><td>web_search</td><td>Brave Search API</td><td><span class="badge active">ON</span></td></tr><tr><td>web_fetch</td><td>Page fetcher & parser</td><td><span class="badge active">ON</span></td></tr><tr><td>browser</td><td>Chromium control</td><td><span class="badge active">ON</span></td></tr></table>`
    }
  };

  function openPanel(type) {
    const overlay = document.getElementById('detail-overlay');
    const panel = document.getElementById('detail-panel');
    const content = panelContent[type];
    panel.style.setProperty('--panel-color', content.color);
    panel.style.setProperty('--panel-glow', content.glow);
    panel.innerHTML = content.html;
    overlay.classList.add('active');
  }

  function closePanel(e) {
    if (e && e.target !== e.currentTarget) return;
    document.getElementById('detail-overlay').classList.remove('active');
  }

  document.addEventListener('keydown', e => { if (e.key === 'Escape') closePanel(); });

  // Initialize with idle + show task panel
  document.getElementById('task-panel').classList.add('active');
  addLogs(activityScenarios.idle.logs);
</script>
</body>
</html>
